<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="613px" preserveAspectRatio="none" style="width:1605px;height:613px;" version="1.1" viewBox="0 0 1605 613" width="1605px" zoomAndPan="magnify"><defs><filter height="300%" id="f1klalz9zipy1w" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[6abbbdc7e7f0583e295b1d636e135a3f]
cluster CANgateway--><polygon fill="#FFFFFF" filter="url(#f1klalz9zipy1w)" points="22,74,128,74,135,96.2969,1583,96.2969,1583,601,22,601,22,74" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="135" y1="96.2969" y2="96.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="26" y="88.9951">CANgateway</text><!--MD5=[d43863dcb8b913b9217dc16715750e4b]
cluster Communication--><polygon fill="#FFFFFF" filter="url(#f1klalz9zipy1w)" points="623,117,750,117,757,139.2969,1559,139.2969,1559,417,623,417,623,117" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="623" x2="757" y1="139.2969" y2="139.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="627" y="131.9951">Communication</text><!--MD5=[1bca517e7fa79f6a2f9ac3600994dc72]
class Starter--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="112.0234" id="Starter" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="461" y="143"/><ellipse cx="507.75" cy="159" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M510.7188,164.6406 Q510.1406,164.9375 509.5,165.0781 Q508.8594,165.2344 508.1563,165.2344 Q505.6563,165.2344 504.3281,163.5938 Q503.0156,161.9375 503.0156,158.8125 Q503.0156,155.6875 504.3281,154.0313 Q505.6563,152.375 508.1563,152.375 Q508.8594,152.375 509.5,152.5313 Q510.1563,152.6875 510.7188,152.9844 L510.7188,155.7031 Q510.0938,155.125 509.5,154.8594 Q508.9063,154.5781 508.2813,154.5781 Q506.9375,154.5781 506.25,155.6563 Q505.5625,156.7188 505.5625,158.8125 Q505.5625,160.9063 506.25,161.9844 Q506.9375,163.0469 508.2813,163.0469 Q508.9063,163.0469 509.5,162.7813 Q510.0938,162.5 510.7188,161.9219 L510.7188,164.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="528.25" y="163.1543">Starter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="462" x2="606" y1="175" y2="175"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="462" x2="606" y1="183" y2="183"/><ellipse cx="472" cy="194" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="481" y="197.2104">new() : ErrorState_e</text><ellipse cx="472" cy="206.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="481" y="210.0151">start() : ErrorState_e</text><ellipse cx="472" cy="219.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="481" y="222.8198">stop() : ErrorState_e</text><ellipse cx="472" cy="232.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="481" y="235.6245">stop() : ErrorState_e</text><ellipse cx="472" cy="245.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="481" y="248.4292">main() : ErrorState_e</text><!--MD5=[a03b53cd9c8ec56b3a63c82c6f5a5c5b]
class Sniffer--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="92.3516" id="Sniffer" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="297.5" y="315"/><ellipse cx="367.25" cy="333.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M370.2188,339.6094 Q369.6406,339.9063 369,340.0469 Q368.3594,340.2031 367.6563,340.2031 Q365.1563,340.2031 363.8281,338.5625 Q362.5156,336.9063 362.5156,333.7813 Q362.5156,330.6563 363.8281,329 Q365.1563,327.3438 367.6563,327.3438 Q368.3594,327.3438 369,327.5 Q369.6563,327.6563 370.2188,327.9531 L370.2188,330.6719 Q369.5938,330.0938 369,329.8281 Q368.4063,329.5469 367.7813,329.5469 Q366.4375,329.5469 365.75,330.625 Q365.0625,331.6875 365.0625,333.7813 Q365.0625,335.875 365.75,336.9531 Q366.4375,338.0156 367.7813,338.0156 Q368.4063,338.0156 369,337.75 Q369.5938,337.4688 370.2188,336.8906 L370.2188,339.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="385.75" y="331.1387">«active»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="391.25" y="345.1074">Sniffer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="298.5" x2="491.5" y1="352.9375" y2="352.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="298.5" x2="491.5" y1="360.9375" y2="360.9375"/><ellipse cx="308.5" cy="371.9375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="317.5" y="375.1479">startReading() : ErrorState_e</text><ellipse cx="308.5" cy="384.7422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="162" x="317.5" y="387.9526">stopReading() : ErrorState_e</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="305.5" y="394.5469"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="317.5" y="400.7573">receiveFrame() : ErrorState_e</text><!--MD5=[7e0e21880190a3d3f8507b42d3153ce7]
class Sender--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="117.9609" id="Sender" style="stroke: #A80036; stroke-width: 1.5;" width="383" x="589.5" y="467"/><ellipse cx="753.25" cy="485.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M756.2188,491.6094 Q755.6406,491.9063 755,492.0469 Q754.3594,492.2031 753.6563,492.2031 Q751.1563,492.2031 749.8281,490.5625 Q748.5156,488.9063 748.5156,485.7813 Q748.5156,482.6563 749.8281,481 Q751.1563,479.3438 753.6563,479.3438 Q754.3594,479.3438 755,479.5 Q755.6563,479.6563 756.2188,479.9531 L756.2188,482.6719 Q755.5938,482.0938 755,481.8281 Q754.4063,481.5469 753.7813,481.5469 Q752.4375,481.5469 751.75,482.625 Q751.0625,483.6875 751.0625,485.7813 Q751.0625,487.875 751.75,488.9531 Q752.4375,490.0156 753.7813,490.0156 Q754.4063,490.0156 755,489.75 Q755.5938,489.4688 756.2188,488.8906 L756.2188,491.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="771.75" y="483.1387">«active»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="45" x="774.75" y="497.1074">Sender</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="590.5" x2="971.5" y1="504.9375" y2="504.9375"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="597.5" y="512.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="609.5" y="519.1479">framesToSend : Frame[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="590.5" x2="971.5" y1="525.7422" y2="525.7422"/><ellipse cx="600.5" cy="536.7422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="357" x="609.5" y="539.9526">startSending(frames : Frame[], nb_frames : int) : ErrorState_e</text><ellipse cx="600.5" cy="549.5469" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="609.5" y="552.7573">stopSending() : ErrorState_e</text><ellipse cx="600.5" cy="562.3516" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="609.5" y="565.562">askSendingState() : ErrorState_e</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="597.5" y="572.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="120" x="609.5" y="578.3667">send() : ErrorState_e</text><!--MD5=[279723d577289112c24d08b81545c04e]
class DriverCAN--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="79.5469" id="DriverCAN" style="stroke: #A80036; stroke-width: 1.5;" width="319" x="235.5" y="486"/><ellipse cx="355.75" cy="504.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M358.7188,510.6094 Q358.1406,510.9063 357.5,511.0469 Q356.8594,511.2031 356.1563,511.2031 Q353.6563,511.2031 352.3281,509.5625 Q351.0156,507.9063 351.0156,504.7813 Q351.0156,501.6563 352.3281,500 Q353.6563,498.3438 356.1563,498.3438 Q356.8594,498.3438 357.5,498.5 Q358.1563,498.6563 358.7188,498.9531 L358.7188,501.6719 Q358.0938,501.0938 357.5,500.8281 Q356.9063,500.5469 356.2813,500.5469 Q354.9375,500.5469 354.25,501.625 Q353.5625,502.6875 353.5625,504.7813 Q353.5625,506.875 354.25,507.9531 Q354.9375,509.0156 356.2813,509.0156 Q356.9063,509.0156 357.5,508.75 Q358.0938,508.4688 358.7188,507.8906 L358.7188,510.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="374.25" y="502.1387">«boundary»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="380.75" y="516.1074">DriverCAN</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="236.5" x2="553.5" y1="523.9375" y2="523.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="236.5" x2="553.5" y1="531.9375" y2="531.9375"/><ellipse cx="246.5" cy="542.9375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="283" x="255.5" y="546.1479">read(in - frame : struct can_frame) : ErrorState_e</text><ellipse cx="246.5" cy="555.7422" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="293" x="255.5" y="558.9526">write(out - frame : struct can_frame) : ErrorState_e</text><!--MD5=[df76e760f2062188d44f98c21a88999b]
class UI--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="86.4141" id="UI" style="stroke: #A80036; stroke-width: 1.5;" width="388" x="38" y="156"/><ellipse cx="221.75" cy="172" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M224.7188,177.6406 Q224.1406,177.9375 223.5,178.0781 Q222.8594,178.2344 222.1563,178.2344 Q219.6563,178.2344 218.3281,176.5938 Q217.0156,174.9375 217.0156,171.8125 Q217.0156,168.6875 218.3281,167.0313 Q219.6563,165.375 222.1563,165.375 Q222.8594,165.375 223.5,165.5313 Q224.1563,165.6875 224.7188,165.9844 L224.7188,168.7031 Q224.0938,168.125 223.5,167.8594 Q222.9063,167.5781 222.2813,167.5781 Q220.9375,167.5781 220.25,168.6563 Q219.5625,169.7188 219.5625,171.8125 Q219.5625,173.9063 220.25,174.9844 Q220.9375,176.0469 222.2813,176.0469 Q222.9063,176.0469 223.5,175.7813 Q224.0938,175.5 224.7188,174.9219 L224.7188,177.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="12" x="242.25" y="176.1543">UI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="425" y1="188" y2="188"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="425" y1="196" y2="196"/><ellipse cx="49" cy="207" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="58" y="210.2104">startCANgateway() : ErrorState_e</text><ellipse cx="49" cy="219.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="58" y="223.0151">stopCANgateway() : ErrorState_e</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="229.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="362" x="58" y="235.8198">signalState(programmeState : ProgrammeState) : ErrorState_e</text><!--MD5=[7452fdaa12554a166d21500bc352dcc0]
class Postman--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="93.5156" id="Postman" style="stroke: #A80036; stroke-width: 1.5;" width="318" x="1076" y="152"/><ellipse cx="1201.25" cy="177.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1204.2188,183.5938 Q1203.6406,183.8906 1203,184.0313 Q1202.3594,184.1875 1201.6563,184.1875 Q1199.1563,184.1875 1197.8281,182.5469 Q1196.5156,180.8906 1196.5156,177.7656 Q1196.5156,174.6406 1197.8281,172.9844 Q1199.1563,171.3281 1201.6563,171.3281 Q1202.3594,171.3281 1203,171.4844 Q1203.6563,171.6406 1204.2188,171.9375 L1204.2188,174.6563 Q1203.5938,174.0781 1203,173.8125 Q1202.4063,173.5313 1201.7813,173.5313 Q1200.4375,173.5313 1199.75,174.6094 Q1199.0625,175.6719 1199.0625,177.7656 Q1199.0625,179.8594 1199.75,180.9375 Q1200.4375,182 1201.7813,182 Q1202.4063,182 1203,181.7344 Q1203.5938,181.4531 1204.2188,180.875 L1204.2188,183.5938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="1225.75" y="168.1387">«active»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="1219.75" y="182.1074">«medium»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="55" x="1223.75" y="196.0762">Postman</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1077" x2="1393" y1="203.9063" y2="203.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1077" x2="1393" y1="211.9063" y2="211.9063"/><ellipse cx="1087" cy="222.9063" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="1096" y="226.1167">sendMessage(in - message : String) : ErrorState_e</text><ellipse cx="1087" cy="235.7109" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="288" x="1096" y="238.9214">receiveData(out - message : String) : ErrorState_e</text><!--MD5=[0c7624888451d2039aaef18036130ed9]
class Dispatcher--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="80.7109" id="Dispatcher" style="stroke: #A80036; stroke-width: 1.5;" width="399" x="642.5" y="158.5"/><ellipse cx="803.75" cy="184.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M806.7188,190.0938 Q806.1406,190.3906 805.5,190.5313 Q804.8594,190.6875 804.1563,190.6875 Q801.6563,190.6875 800.3281,189.0469 Q799.0156,187.3906 799.0156,184.2656 Q799.0156,181.1406 800.3281,179.4844 Q801.6563,177.8281 804.1563,177.8281 Q804.8594,177.8281 805.5,177.9844 Q806.1563,178.1406 806.7188,178.4375 L806.7188,181.1563 Q806.0938,180.5781 805.5,180.3125 Q804.9063,180.0313 804.2813,180.0313 Q802.9375,180.0313 802.25,181.1094 Q801.5625,182.1719 801.5625,184.2656 Q801.5625,186.3594 802.25,187.4375 Q802.9375,188.5 804.2813,188.5 Q804.9063,188.5 805.5,188.2344 Q806.0938,187.9531 806.7188,187.375 L806.7188,190.0938 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="51" x="832.75" y="174.6387">«active»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="826.75" y="188.6074">«medium»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="824.25" y="202.5762">Dispatcher</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="643.5" x2="1040.5" y1="210.4063" y2="210.4063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="643.5" x2="1040.5" y1="218.4063" y2="218.4063"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="650.5" y="226.4063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="662.5" y="232.6167">decodeMessage(message : String, frame : Frame) : ErrorState_e</text><!--MD5=[e11b6edb78a0d2d4264bf8b2705b2d76]
class ProxyGUI--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="79.5469" id="ProxyGUI" style="stroke: #A80036; stroke-width: 1.5;" width="470" x="1073" y="321"/><ellipse cx="1274.25" cy="339.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1277.2188,345.6094 Q1276.6406,345.9063 1276,346.0469 Q1275.3594,346.2031 1274.6563,346.2031 Q1272.1563,346.2031 1270.8281,344.5625 Q1269.5156,342.9063 1269.5156,339.7813 Q1269.5156,336.6563 1270.8281,335 Q1272.1563,333.3438 1274.6563,333.3438 Q1275.3594,333.3438 1276,333.5 Q1276.6563,333.6563 1277.2188,333.9531 L1277.2188,336.6719 Q1276.5938,336.0938 1276,335.8281 Q1275.4063,335.5469 1274.7813,335.5469 Q1273.4375,335.5469 1272.75,336.625 Q1272.0625,337.6875 1272.0625,339.7813 Q1272.0625,341.875 1272.75,342.9531 Q1273.4375,344.0156 1274.7813,344.0156 Q1275.4063,344.0156 1276,343.75 Q1276.5938,343.4688 1277.2188,342.8906 L1277.2188,345.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="1292.75" y="337.1387">«medium»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="1297.25" y="351.1074">ProxyGUI</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1074" x2="1542" y1="358.9375" y2="358.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1074" x2="1542" y1="366.9375" y2="366.9375"/><ellipse cx="1084" cy="377.9375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="339" x="1093" y="381.1479">setSendingState(senderMode : SenderMode) : ErrorState_e</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1081" y="387.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="444" x="1093" y="393.9526">encodeMessage(senderMode : SenderMode, message : String) : ErrorState_e</text><!--MD5=[391719b23560f9e5569a74f485482112]
class ProxyLogger--><rect fill="#FEFECE" filter="url(#f1klalz9zipy1w)" height="79.5469" id="ProxyLogger" style="stroke: #A80036; stroke-width: 1.5;" width="399" x="638.5" y="321"/><ellipse cx="795.75" cy="339.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M798.7188,345.6094 Q798.1406,345.9063 797.5,346.0469 Q796.8594,346.2031 796.1563,346.2031 Q793.6563,346.2031 792.3281,344.5625 Q791.0156,342.9063 791.0156,339.7813 Q791.0156,336.6563 792.3281,335 Q793.6563,333.3438 796.1563,333.3438 Q796.8594,333.3438 797.5,333.5 Q798.1563,333.6563 798.7188,333.9531 L798.7188,336.6719 Q798.0938,336.0938 797.5,335.8281 Q796.9063,335.5469 796.2813,335.5469 Q794.9375,335.5469 794.25,336.625 Q793.5625,337.6875 793.5625,339.7813 Q793.5625,341.875 794.25,342.9531 Q794.9375,344.0156 796.2813,344.0156 Q796.9063,344.0156 797.5,343.75 Q798.0938,343.4688 798.7188,342.8906 L798.7188,345.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="63" x="822.75" y="337.1387">«medium»</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="816.25" y="351.1074">ProxyLogger</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="639.5" x2="1036.5" y1="358.9375" y2="358.9375"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="639.5" x2="1036.5" y1="366.9375" y2="366.9375"/><ellipse cx="649.5" cy="377.9375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="658.5" y="381.1479">setFrame(frame : Frame) : ErrorState_e</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="646.5" y="387.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="658.5" y="393.9526">encodeMessage(frame : Frame, message : String) : ErrorState_e</text><!--MD5=[01c1f09e956914cae7c0063972cd3f5f]
link Starter to Sniffer--><path d="M486.16,255.06 C470.39,273.22 452.97,293.27 437.62,310.94 " fill="none" id="Starter-&gt;Sniffer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="434.17,314.91,443.0979,310.7516,437.4544,311.14,437.066,305.4965,434.17,314.91" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[1f7f84b5cddd0dd95e954f40e11d89a9]
link Starter to Sender--><path d="M536.57,255.46 C541.47,304.7 555.33,376.21 594,425 C605.7,439.77 620.21,452.63 635.92,463.76 " fill="none" id="Starter-&gt;Sender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="640.38,466.85,635.2495,458.443,636.2665,464.0077,630.7018,465.0246,640.38,466.85" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a932bb99e914ce25ade0c7259fe86558]
link Starter to DriverCAN--><path d="M539,255.02 C540.89,302.66 537.61,372.05 510,425 C498.4,447.25 479.61,466.73 460.56,482.45 " fill="none" id="Starter-&gt;DriverCAN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="456.23,485.95,465.7431,483.4002,460.1176,482.8057,460.7121,477.1801,456.23,485.95" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f68c5f2071c7ee1884633aada5fd7673]
reverse link UI to Starter--><path d="M431.19,199 C441.01,199 450.82,199 460.63,199 " fill="none" id="UI&lt;-Starter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="426.06,199,435.06,203,431.06,199,435.06,195,426.06,199" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[517a62c2b5e41bc8817b58b31b83e9ae]
reverse link Dispatcher to Starter--><path d="M637.17,199 C627.15,199 617.12,199 607.09,199 " fill="none" id="Dispatcher&lt;-Starter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="642.42,199,633.42,195,637.42,199,633.42,203,642.42,199" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[73c7055466bea8a02473f92e31e0a331]
reverse link Postman to ProxyGUI--><path d="M1258.29,251.05 C1268.61,273.66 1280.55,299.83 1290.14,320.86 " fill="none" id="Postman&lt;-ProxyGUI" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1256.11,246.28,1256.2044,256.1284,1258.1844,250.8294,1263.4834,252.8094,1256.11,246.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5f320addc0b24c249bfb7fa09b488902]
reverse link Postman to ProxyLogger--><path d="M1115.86,248.02 C1058.09,271.3 989.58,298.91 935.04,320.89 " fill="none" id="Postman&lt;-ProxyLogger" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1120.7,246.06,1110.8572,245.7147,1116.0626,247.9292,1113.848,253.1346,1120.7,246.06" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[b9a593da0f4dd382e4890bb176eddb84]
reverse link ProxyLogger to ProxyGUI--><!--MD5=[7babba3979f44d9836acdb0145de8744]
reverse link Postman to Starter--><path d="M1193.15,148.14 C1157.5,109.11 1102.46,58.25 1041.5,36 C957.79,5.44 718.87,-6.41 640.5,36 C598.88,58.52 570.93,105.16 554.15,142.8 " fill="none" id="Postman&lt;-Starter" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1196.54,151.88,1193.4547,142.5269,1193.1802,148.1771,1187.53,147.9026,1196.54,151.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[6dc538345e8960312bbcd92f9056de73]
link Postman to Dispatcher--><path d="M1075.95,199 C1064.49,199 1053.03,199 1041.57,199 " fill="none" id="Postman-Dispatcher" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ef90ff68a24d4025d9e2c41aafae262c]
link Dispatcher to Sender--><path d="M710.95,239.52 C675.62,256.83 641.53,281.17 621,315 C595.63,356.79 597.3,382.24 621,425 C629.13,439.67 640.41,452.47 653.25,463.57 " fill="none" id="Dispatcher-&gt;Sender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="657.29,466.96,652.9691,458.1096,653.4606,463.745,647.8252,464.2366,657.29,466.96" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[37100d655272d9e0239bce206355a617]
link Sender to ProxyGUI--><path d="M968.58,466.98 C1037.49,445.67 1113.99,422.01 1176.88,402.55 " fill="none" id="Sender-&gt;ProxyGUI" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1181.77,401.04,1171.9909,399.8698,1176.992,402.5134,1174.3484,407.5146,1181.77,401.04" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[49769b1c77b423974d0030eb117f6984]
reverse link ProxyLogger to Sniffer--><path d="M633.29,361 C586.45,361 539.61,361 492.77,361 " fill="none" id="ProxyLogger&lt;-Sniffer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="638.41,361,629.41,357,633.41,361,629.41,365,638.41,361" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d48510abe80014175f9d5f224718b2bf]
reverse link Sniffer to UI--><path d="M345.45,311.36 C322.91,289.24 296.49,263.31 274.83,242.04 " fill="none" id="Sniffer&lt;-UI" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="349.03,314.88,345.4202,305.7165,345.466,311.3732,339.8093,311.419,349.03,314.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[d3372c3f3830385c89327a53f26fc82d]
link Sniffer to DriverCAN--><path d="M395,407.4 C395,430.35 395,458.08 395,480.85 " fill="none" id="Sniffer-&gt;DriverCAN" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="395,485.92,399,476.92,395,480.92,391,476.92,395,485.92" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f25d6b03c25e11e3d2fa7d3b73071075]
reverse link DriverCAN to Sender--><path d="M559.94,526 C569.72,526 579.5,526 589.28,526 " fill="none" id="DriverCAN&lt;-Sender" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="554.83,526,563.83,530,559.83,526,563.83,522,554.83,526" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8b334b682e019ff13de4012d4a197785]
@startuml 

package CANgateway {
    package Communication {
        class Postman <<active>> <<medium>> {
            + sendMessage(in - message : String) : ErrorState_e
            + receiveData(out - message : String) : ErrorState_e
        }
        class Dispatcher <<active>> <<medium>> {
            - decodeMessage(message : String, frame : Frame) : ErrorState_e
        }
        class ProxyGUI <<medium>> {
            + setSendingState(senderMode : SenderMode) : ErrorState_e
            - encodeMessage(senderMode : SenderMode, message : String) : ErrorState_e
        }
        class ProxyLogger <<medium>> {
            + setFrame(frame : Frame) : ErrorState_e
            - encodeMessage(frame : Frame, message : String) : ErrorState_e
        }
    }

    class Starter {
        + new() : ErrorState_e
        + start() : ErrorState_e
        + stop() : ErrorState_e
        + stop() : ErrorState_e
        + main() : ErrorState_e
    }

    class Sniffer <<active>> {
        + startReading() : ErrorState_e
        + stopReading() : ErrorState_e
        - receiveFrame() : ErrorState_e
    }
    class Sender <<active>> {
        - framesToSend : Frame[]
        + startSending(frames : Frame[], nb_frames : int) : ErrorState_e
        + stopSending() : ErrorState_e
        + askSendingState() : ErrorState_e
        - send() : ErrorState_e
    }

    class DriverCAN <<boundary>>{
        + read(in - frame : struct can_frame) : ErrorState_e
        + write(out - frame : struct can_frame) : ErrorState_e
    }

    class UI {
        + startCANgateway() : ErrorState_e
        + stopCANgateway() : ErrorState_e
        - signalState(programmeState : ProgrammeState) : ErrorState_e
    }

    Starter -d-> Sniffer
    Starter -d-> Sender
    Starter -d-> DriverCAN
    Starter -l-> UI
    Starter -l-> Dispatcher

    ProxyGUI -u-> Postman
    ProxyLogger -u-> Postman
    ProxyGUI -[hidden]l-> ProxyLogger

    Starter -l-> Postman
    Dispatcher -l- Postman
    Dispatcher -d-> Sender
    Sender -d-> ProxyGUI
    Sniffer -u-> ProxyLogger
    UI -u-> Sniffer

    Sniffer -d-> DriverCAN
    Sender -l-> DriverCAN
}

@enduml

PlantUML version 1.2020.02(Sun Mar 01 11:22:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.19+7-post-Ubuntu-0ubuntu122.04.1
Operating System: Linux
Default Encoding: UTF-8
Language: fr
Country: FR
--></g></svg>